{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/runtime-067914c91cc887a2.js","node_modules/@parcel/runtime-js/lib/runtime-8bd5ee96495ce1ec.js","node_modules/@parcel/runtime-js/lib/runtime-7f0d33365f0b3a65.js","node_modules/@parcel/runtime-js/lib/runtime-44381c65c716e2a0.js","node_modules/@parcel/runtime-js/lib/runtime-146c7902af1bf287.js","src/js/shopping-list.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"l20mf\\\":\\\"shopping.80896caf.js\\\",\\\"aaLHb\\\":\\\"amazon.15190360.png\\\",\\\"kA0Wr\\\":\\\"appleshop.1347d55f.png\\\",\\\"5sBRp\\\":\\\"boockshop.96bb4e3e.png\\\",\\\"ee16w\\\":\\\"sprite.9905b075.svg\\\"}\"));","module.exports = require('./helpers/bundle-url').getBundleURL('l20mf') + require('./helpers/bundle-manifest').resolve(\"aaLHb\");","module.exports = require('./helpers/bundle-url').getBundleURL('l20mf') + require('./helpers/bundle-manifest').resolve(\"kA0Wr\");","module.exports = require('./helpers/bundle-url').getBundleURL('l20mf') + require('./helpers/bundle-manifest').resolve(\"5sBRp\");","module.exports = require('./helpers/bundle-url').getBundleURL('l20mf') + require('./helpers/bundle-manifest').resolve(\"ee16w\");","const shoppingList = document.querySelector('.shopping-list');\nconst shoppingListEmptyEl = document.querySelector('.shopping-list-empty');\n\nimport Amazon from '../images/amazon.png';\nimport Apple from '../images/appleshop.png';\nimport Bookshop from '../images/boockshop.png';\nimport Trash from '../images/sprite.svg';\n\n//Pagination\nconst easyPagination = ({\n  items,\n  rows = 10,\n  handlePaginatedItems,\n  buttonsWrapper,\n  buttonsContainerClass = 'pagination',\n  buttonClass = 'page-link',\n  nextClass = 'page-link',\n  prevClass = 'page-link',\n  nextText = '>',\n  prevText = '<',\n  firstClass = 'page-link',\n  firstText = '<<',\n  lastClass = 'page-link',\n  lastText = '>>',\n  activeClass = 'active',\n}) => {\n  if (!items) {\n    console.error('items not defined. Send {items: ...} as a parameter.');\n    return false;\n  }\n\n  const generateUID = () => {\n    var firstPart = (Math.random() * 46656) | 0;\n    var secondPart = (Math.random() * 46656) | 0;\n    firstPart = ('000' + firstPart.toString(36)).slice(-3);\n    secondPart = ('000' + secondPart.toString(36)).slice(-3);\n    return firstPart + secondPart;\n  };\n\n  const createPaginationButtons = ({ wrapper }) => {\n    let paginationButtons = document.createElement('div');\n\n    paginationButtons.classList.add(\n      'pagination-' + uuid,\n      buttonsContainerClass\n    );\n\n    let paginationButton = page => {\n      let button = document.createElement('button');\n      button.setAttribute('type', 'button');\n      button.classList.add(buttonClass);\n\n      if (currentPage === page) button.classList.add(activeClass);\n\n      button.innerHTML = page;\n\n      button.addEventListener('click', function () {\n        currentPage = page;\n\n        self.paginate(currentPage, false);\n\n        let current_btn = getActiveBtn();\n        current_btn.classList.remove('active');\n\n        button.classList.add('active');\n      });\n\n      return button;\n    };\n\n    let prevNextBtns = () => {\n      let prevBtn = document.createElement('button');\n      prevBtn.setAttribute('type', 'button');\n      prevBtn.classList.add('page-link');\n      prevBtn.classList.add('prevClass');\n      prevBtn.innerHTML = prevText;\n\n      let nextBtn = document.createElement('button');\n      nextBtn.setAttribute('type', 'button');\n      nextBtn.classList.add('page-link');\n      nextBtn.classList.add('nextClass');\n      nextBtn.innerHTML = nextText;\n\n      // let firstBtn = document.createElement('button');\n      // firstBtn.setAttribute('type', 'button');\n      // firstBtn.classList.add('page-link');\n      // firstBtn.classList.add('firstClass');\n      // firstBtn.innerHTML = firstText;\n\n      // let lastBtn = document.createElement('button');\n      // lastBtn.setAttribute('type', 'button');\n      // lastBtn.classList.add('page-link');\n      // lastBtn.classList.add('lastClass');\n      // lastBtn.innerHTML = lastText;\n\n      prevBtn.addEventListener('click', () => {\n        self.prev();\n      });\n\n      nextBtn.addEventListener('click', () => {\n        self.next();\n      });\n\n      // firstBtn.addEventListener('click', () => {\n      //   self.first();\n      // });\n      // lastBtn.addEventListener('click', () => {\n      //   self.last();\n      // });\n\n      return { prevBtn, nextBtn };\n    };\n\n    const { prevBtn, nextBtn } = prevNextBtns();\n\n    // paginationButtons.appendChild(firstBtn);\n    paginationButtons.appendChild(prevBtn);\n\n    for (let i = 1; i < pageCount + 1; i++) {\n      let btn = paginationButton(i);\n      paginationButtons.appendChild(btn);\n    }\n\n    paginationButtons.appendChild(nextBtn);\n    // paginationButtons.appendChild(lastBtn);\n\n    wrapper.appendChild(paginationButtons);\n  };\n\n  const getAllBtns = () => {\n    return document.querySelectorAll(`.${'pagination-' + uuid} button`);\n  };\n\n  const getActiveBtn = () => {\n    return document.querySelector(`.${'pagination-' + uuid} button.active`);\n  };\n\n  const uuid = generateUID();\n  rows = parseInt(rows);\n  let currentPage = 1;\n  let pageCount = Math.ceil(items.length / rows);\n  const hasButtons = typeof buttonsWrapper != 'undefined';\n\n  const self = {\n    paginate: (page = 1, loadButtons = true) => {\n      page--;\n\n      let start = rows * page;\n      let end = start + rows;\n      let paginatedItems = items.slice(start, end);\n\n      if (loadButtons && buttonsWrapper)\n        createPaginationButtons({\n          wrapper: document.querySelector(buttonsWrapper),\n        });\n\n      if (handlePaginatedItems) {\n        handlePaginatedItems(paginatedItems);\n      } else return paginatedItems;\n    },\n    // first: () => {\n    //   if (currentPage === 0) return;\n    //   currentPage = 0;\n    //   let page = currentPage;\n    //   let start = rows * page;\n    //   let end = start + rows;\n    //   let paginatedItems = items.slice(start, end);\n\n    //   if (hasButtons) {\n    //     let current_btn = getActiveBtn();\n    //     if (currentPage != 0) {\n    //       current_btn.classList.remove('active');\n    //       current_btn.nextElementSibling.classList.add('active');\n    //     }\n    //   }\n\n    //   if (handlePaginatedItems) {\n    //     handlePaginatedItems(paginatedItems);\n    //   } else return paginatedItems;\n    // },\n    // last: () => {\n    //   if (currentPage === pageCount) return;\n    //   currentPage = pageCount - 1;\n    //   let page = currentPage;\n    //   let start = rows * page;\n    //   let end = start + rows;\n    //   let paginatedItems = items.slice(start, end);\n\n    //   if (hasButtons) {\n    //     let current_btn = getActiveBtn();\n\n    //     current_btn.classList.remove('active');\n    //     current_btn.nextElementSibling.classList.add('active');\n    //   }\n\n    //   if (handlePaginatedItems) {\n    //     handlePaginatedItems(paginatedItems);\n    //   } else return paginatedItems;\n    // },\n    next: () => {\n      if (currentPage >= pageCount) return;\n      currentPage++;\n      let page = currentPage - 1;\n      let start = rows * page;\n      let end = start + rows;\n      let paginatedItems = items.slice(start, end);\n\n      if (hasButtons) {\n        let current_btn = getActiveBtn();\n        current_btn.classList.remove('active');\n        current_btn.nextElementSibling.classList.add('active');\n      }\n\n      if (handlePaginatedItems) {\n        handlePaginatedItems(paginatedItems);\n      } else return paginatedItems;\n    },\n    prev: () => {\n      if (currentPage === 1) return;\n      currentPage--;\n\n      let page = currentPage - 1;\n      let start = rows * page;\n      let end = start + rows;\n      let paginatedItems = items.slice(start, end);\n\n      if (hasButtons) {\n        let currentButton = getActiveBtn();\n        currentButton.classList.remove('active');\n        currentButton.previousElementSibling.classList.add('active');\n      }\n\n      if (handlePaginatedItems) {\n        handlePaginatedItems(paginatedItems);\n      } else return paginatedItems;\n    },\n    changeRows: (newRows = 10) => {\n      rows = parseInt(newRows);\n      document.querySelector('.pagination-' + uuid).remove();\n      self.paginate(currentPage);\n    },\n    changeItems: newItems => {\n      if (!newItems) return false;\n\n      document.querySelector('.pagination-' + uuid)?.remove();\n\n      items = newItems;\n      pageCount = Math.ceil(items.length / rows);\n      currentPage = 1;\n\n      self.paginate(1);\n    },\n  };\n\n  return self;\n};\n//Pagination^^^^^^^^\n\nconst paginationEl = document.getElementById('pagination');\n\nlet booksArray = JSON.parse(localStorage.getItem('shopping-trash'));\n\nappendShoppingListMarkup();\n\nfunction createShoppingList(booksArray) {\n  return booksArray.reduce((acc, item) => {\n    return (\n      acc +\n      ` <div class=\"book-card\" id=\"${item._id}\">\n        <div class=\"shopping-list-img\">\n        <img\n          class=\"book-img\"\n          src=\"${item.book_image}\"\n          alt=\"${item.title}\"\n          loading=\"lazy\"\n        />\n      </div>\n      <div class=\"info\">\n        <div class=\"first-info-div\">\n          <div>\n            <p class=\"book-name\">${item.title}</p>\n            <p class=\"book-category\">${item.list_name}</p>\n          </div>\n          <button class=\"remove-book\">\n            <svg class=\"trash-icon\" width=\"16\" height=\"16\"><use href=\"${Trash}#trash\"></use></svg>\n          </button>\n        </div>\n        <div class=\"second-info-div\">\n          <p class=\"book-description\">\n           ${item.description}\n          </p>\n        </div>\n        <div class=\"third-info-div\">\n          <div>\n            <p class=\"book-author\">\n            ${item.author}\n            </p>\n          </div>\n          <div class=\"shop-list-div\">\n          <ul class=\"shop-list\">\n               <li class=\"shop-item\">\n              <a class=\"shop-link\" href=\"${item.buy_links[0].url}\" target=\"_blank\"><img class=\"shop-icon amazon-icon\" src=\"${Amazon}\" alt=\"amazon\" width=\"32\" height=\"11\"></a>\n              </li>\n                <li class=\"shop-item\">\n                    <a class=\"shop-link\" href=\"${item.buy_links[1].url}\" target=\"_blank\"><img class=\"shop-icon\" src=\"${Apple}\" alt=\"apple shop\" width=\"16\" height=\"16\"></a>\n                  </li>\n                    <li class=\"shop-item\">\n                        <a class=\"shop-link\" href=\"${item.buy_links[4].url}\" target=\"_blank\" ><img class=\"shop-icon book-shop-icon\" src=\"${Bookshop}\" alt=\"book shop\" width=\"16\" height=\"16\"></a>\n                      </li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>`\n    );\n  }, '');\n}\n\nfunction displayPagination() {\n  let items = booksArray;\n  paginationEl.innerHTML = '';\n  const pagination = easyPagination({\n    items,\n    rows: 3,\n    buttonsWrapper: '#pagination',\n    handlePaginatedItems: items => {\n      const list = document.getElementById('list');\n      list.innerHTML = ' ';\n      list.innerHTML = createShoppingList(items);\n    },\n  });\n\n  pagination.paginate();\n}\nfunction appendShoppingListMarkup() {\n  if (booksArray.length !== 0) {\n    displayPagination();\n    shoppingListisFilled();\n  } else {\n    shoppingList.innerHTML = '';\n    paginationEl.innerHTML = '';\n    shoppingListIsEmpty();\n  }\n}\n\nfunction shoppingListIsEmpty() {\n  shoppingListEmptyEl.classList.remove('shopping-list-filled');\n}\n\nfunction shoppingListisFilled() {\n  shoppingListEmptyEl.classList.add('shopping-list-filled');\n}\nshoppingList.addEventListener('click', removeBook);\n\nfunction removeBook(e) {\n\n  if (e.target.nodeName === 'BUTTON') {\n    let _bookId = e.target.closest('.book-card').id;\n\n    // console.log(_bookId);\n    // console.log(booksArray);\n    booksArray.splice(\n      booksArray.findIndex(item => item._id === _bookId),\n      1\n    );\n    // console.log(booksArray);\n\n    let card = document.getElementById(_bookId);\n    // console.log(card);\n    card.remove();\n    localStorage.setItem('shopping-trash', JSON.stringify(booksArray));\n    if (booksArray.length === 0) {\n      shoppingListIsEmpty();\n    }\n    appendShoppingListMarkup();\n  }\n}\n"],"names":["parcelRequire","register","JSON","parse","$323441f1b58d41d0$exports","getBundleURL","resolve","$b18cd87a6fbbe820$exports","$956e1b2468fa8949$exports","$8020d75c2c6a8155$exports","$399cd7aec2522034$var$shoppingList","document","querySelector","$399cd7aec2522034$var$shoppingListEmptyEl","$399cd7aec2522034$var$easyPagination","items","rows","handlePaginatedItems","buttonsWrapper","buttonsContainerClass","buttonClass","nextClass","prevClass","nextText","prevText","firstClass","firstText","lastClass","lastText","activeClass","console","error","getActiveBtn","uuid","firstPart","Math","random","secondPart","toString","slice","parseInt","currentPage","pageCount","ceil","length","hasButtons","self","paginate","page","loadButtons","start","end","paginatedItems","wrapper","paginationButtons","createElement","classList","add","paginationButton","button","setAttribute","innerHTML","addEventListener","remove","prevBtn","nextBtn","prev","next","prevNextBtns","appendChild","i","btn","createPaginationButtons","current_btn","nextElementSibling","currentButton","previousElementSibling","changeRows","newRows","changeItems","newItems","$399cd7aec2522034$var$paginationEl","getElementById","$399cd7aec2522034$var$booksArray","localStorage","getItem","$399cd7aec2522034$var$displayPagination","pagination","list","reduce","acc","item","_id","book_image","title","list_name","$parcel$interopDefault","description","author","buy_links","url","$399cd7aec2522034$var$appendShoppingListMarkup","$399cd7aec2522034$var$shoppingListIsEmpty","e","target","nodeName","_bookId","closest","id","splice","findIndex","setItem","stringify"],"version":3,"file":"shopping.80896caf.js.map"}